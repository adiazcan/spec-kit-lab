{
  "openapi": "3.0.1",
  "info": {
    "title": "Dice Rolling Engine API",
    "description": "A high-performance dice rolling engine with cryptographically secure randomization, supporting standard RPG dice notation, complex expressions, and D&D 5e advantage/disadvantage mechanics.",
    "contact": {
      "name": "Dice Engine Team"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Adventures": {
      "post": {
        "tags": [
          "Adventures"
        ],
        "summary": "Create a new adventure with initial scene and game state.",
        "requestBody": {
          "description": "Request containing initial scene ID and optional game state",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdventureRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdventureRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdventureRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Adventures"
        ],
        "summary": "List all adventures with pagination.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number (1-indexed, default 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of adventures per page (default 20, max 100)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/PagedAdventureResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PagedAdventureResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/PagedAdventureResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Adventures/{id}": {
      "get": {
        "tags": [
          "Adventures"
        ],
        "summary": "Retrieve a specific adventure by ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Adventure unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Adventures"
        ],
        "summary": "Update an adventure's current scene and game state.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Adventure unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Request containing updated scene ID and game state",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAdventureRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAdventureRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAdventureRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdventureDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Adventures"
        ],
        "summary": "Delete an adventure by ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Adventure unique identifier",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/characters": {
      "post": {
        "tags": [
          "Characters"
        ],
        "summary": "Create a new character for an adventure.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID to create character in",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Character creation request with name and attributes",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCharacterRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCharacterRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCharacterRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Character successfully created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation failure)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Adventure not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Characters"
        ],
        "summary": "List all characters for an adventure with pagination.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID to list characters for",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Items per page (default: 20, max: 100)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of characters for the adventure",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterListResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterListResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/characters/{characterId}": {
      "get": {
        "tags": [
          "Characters"
        ],
        "summary": "Retrieve a specific character with all attributes and modifiers.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Character details",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              }
            }
          },
          "404": {
            "description": "Character or adventure not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Characters"
        ],
        "summary": "Update character attributes with automatic modifier recalculation.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Update request with optional name and attributes, plus version for optimistic locking",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCharacterRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCharacterRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCharacterRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Character successfully updated",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or validation failure",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Character not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - character has been modified (version mismatch)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Characters"
        ],
        "summary": "Delete a character and all associated snapshots.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Character successfully deleted"
          },
          "404": {
            "description": "Character not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{characterId}/snapshots": {
      "post": {
        "tags": [
          "Characters"
        ],
        "summary": "Create a character snapshot (save point) capturing current state.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Snapshot creation request with optional label",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSnapshotRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSnapshotRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSnapshotRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Snapshot successfully created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              }
            }
          },
          "404": {
            "description": "Character not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Characters"
        ],
        "summary": "List character snapshots in reverse chronological order.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Items per page (default: 50, max: 100)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of character snapshots",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotListResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotListResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/SnapshotListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{characterId}/snapshots/{snapshotId}": {
      "get": {
        "tags": [
          "Characters"
        ],
        "summary": "Retrieve a specific snapshot by ID.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "snapshotId",
            "in": "path",
            "description": "The snapshot ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Snapshot details",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterSnapshotDto"
                }
              }
            }
          },
          "404": {
            "description": "Snapshot or character not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Combats": {
      "post": {
        "tags": [
          "Combats"
        ],
        "summary": "Initiate a new combat encounter between player characters and enemies",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateCombatRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateCombatRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateCombatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Combats/{id}": {
      "get": {
        "tags": [
          "Combats"
        ],
        "summary": "Get the current state of a combat encounter",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Combats/{id}/turns": {
      "post": {
        "tags": [
          "Combats"
        ],
        "summary": "Resolve a player character's attack action during their turn",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveTurnRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveTurnRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ResolveTurnRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Combats/{id}/enemy-turn": {
      "post": {
        "tags": [
          "Combats"
        ],
        "summary": "Resolve an enemy AI turn during their turn slot",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatStateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Combats/{id}/actions": {
      "get": {
        "tags": [
          "Combats"
        ],
        "summary": "Get combat history (list of actions taken in a combat)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/CombatHistoryResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatHistoryResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/CombatHistoryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Enemies": {
      "post": {
        "tags": [
          "Enemies"
        ],
        "summary": "Create a new enemy template",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Enemies"
        ],
        "summary": "List all enemy templates with pagination",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyListResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyListResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Enemies/{id}": {
      "get": {
        "tags": [
          "Enemies"
        ],
        "summary": "Get an enemy template by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Enemies"
        ],
        "summary": "Update an existing enemy template",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnemyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnemyResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Enemies"
        ],
        "summary": "Delete an enemy template",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/characters/{characterId}/equipment": {
      "get": {
        "tags": [
          "Equipment"
        ],
        "summary": "Get all equipment slots for a character.\r\nReturns all 7 slots with equipped items and total stat modifiers.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Equipment slot details",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EquipmentResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EquipmentResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EquipmentResult"
                }
              }
            }
          },
          "404": {
            "description": "Character not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{characterId}/equipment/{slotType}": {
      "put": {
        "tags": [
          "Equipment"
        ],
        "summary": "Equip an item from inventory to a character's equipment slot.\r\nIf slot already has an item, the previous item is returned to inventory.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "slotType",
            "in": "path",
            "description": "Equipment slot (Head, Chest, Legs, Feet, Hands, MainHand, OffHand)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Equip request with item ID and adventure ID",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EquipItemRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/EquipItemRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/EquipItemRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item successfully equipped",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/EquipItemResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EquipItemResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/EquipItemResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (item not equippable, wrong slot type, not in inventory)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Character or item not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Equipment"
        ],
        "summary": "Unequip an item from a character's equipment slot.\r\nThe item is returned to the adventure's inventory.",
        "parameters": [
          {
            "name": "characterId",
            "in": "path",
            "description": "The character ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "slotType",
            "in": "path",
            "description": "Equipment slot to clear",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "adventureId",
            "in": "query",
            "description": "Adventure ID to return item to inventory",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Item successfully unequipped (or slot was already empty)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/UnequipItemResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnequipItemResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnequipItemResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid slot type",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/inventory": {
      "get": {
        "tags": [
          "Inventory"
        ],
        "summary": "Get all items in an adventure's inventory.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of entries to return (default: 50, max: 100)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Number of entries to skip (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Inventory contents",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/InventoryResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InventoryResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/InventoryResult"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Inventory"
        ],
        "summary": "Add an item to the adventure's inventory.\r\nStackable items will merge with existing stacks up to max stack size.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Add item request with item ID and quantity",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddItemRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AddItemRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AddItemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Item successfully added to inventory",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/AddItemResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddItemResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddItemResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (item not found, quantity invalid, or stack overflow)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Adventure not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/inventory/{entryId}": {
      "delete": {
        "tags": [
          "Inventory"
        ],
        "summary": "Remove quantity from an inventory entry.\r\nEntry is deleted when quantity reaches zero.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "description": "The adventure ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "entryId",
            "in": "path",
            "description": "The inventory entry ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "quantity",
            "in": "query",
            "description": "Quantity to remove (default: removes entire entry)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Item quantity removed (or entry deleted)"
          },
          "400": {
            "description": "Invalid quantity or insufficient stock",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Inventory entry not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/items": {
      "get": {
        "tags": [
          "Items"
        ],
        "summary": "List all items in the catalog with optional filtering.",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Filter by item type (stackable, unique)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "rarity",
            "in": "query",
            "description": "Filter by rarity (Common, Uncommon, Rare, Epic, Legendary)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of items to return (default: 50)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Number of items to skip (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of items",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/items/stackable": {
      "post": {
        "tags": [
          "Items"
        ],
        "summary": "Create a new stackable item in the catalog.\r\nStackable items can be stacked in inventory up to MaxStackSize.",
        "requestBody": {
          "description": "Stackable item creation request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStackableItemRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStackableItemRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStackableItemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Stackable item created successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StackableItemResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StackableItemResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StackableItemResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation failure)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/items/unique": {
      "post": {
        "tags": [
          "Items"
        ],
        "summary": "Create a new unique item in the catalog.\r\nUnique items can have equipment slots and stat modifiers.",
        "requestBody": {
          "description": "Unique item creation request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUniqueItemRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUniqueItemRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUniqueItemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Unique item created successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/UniqueItemResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UniqueItemResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/UniqueItemResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (validation failure)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/loot-tables": {
      "get": {
        "tags": [
          "LootTables"
        ],
        "summary": "List all available loot tables.",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of tables to return (default: 50)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Number of tables to skip (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of loot tables",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableListResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableListResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableListResult"
                }
              }
            }
          }
        }
      }
    },
    "/api/loot-tables/{lootTableId}": {
      "get": {
        "tags": [
          "LootTables"
        ],
        "summary": "Get detailed information about a specific loot table.\r\nIncludes all entries with items, weights, and quantities.",
        "parameters": [
          {
            "name": "lootTableId",
            "in": "path",
            "description": "The loot table ID",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Loot table details",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableDetailsResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableDetailsResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/LootTableDetailsResult"
                }
              }
            }
          },
          "404": {
            "description": "Loot table not found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/loot-tables/{lootTableId}/generate": {
      "post": {
        "tags": [
          "LootTables"
        ],
        "summary": "Generate random items from a loot table.\r\nUses weighted random selection based on entry weights.\r\nGenerated items are automatically added to adventure inventory.",
        "parameters": [
          {
            "name": "lootTableId",
            "in": "path",
            "description": "The loot table ID to generate from",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Generation request with adventure ID and count",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateLootRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateLootRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateLootRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Items generated successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/GenerateLootResult"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerateLootResult"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/GenerateLootResult"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request (count out of range)",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Loot table or adventure not found, or table has no entries",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/players/{playerId}/quests/active": {
      "get": {
        "tags": [
          "Progress"
        ],
        "summary": "Lists all active quests for a player.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QuestProgressDto"
                  }
                }
              },
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QuestProgressDto"
                  }
                }
              },
              "text/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/QuestProgressDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/progress": {
      "get": {
        "tags": [
          "Progress"
        ],
        "summary": "Gets current progress for a specific quest.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests": {
      "get": {
        "tags": [
          "Quests"
        ],
        "summary": "Lists all available quests for an adventure.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": { }
              },
              "application/json": {
                "schema": { }
              },
              "text/json": {
                "schema": { }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/accept": {
      "post": {
        "tags": [
          "Quests"
        ],
        "summary": "Accepts a quest for a player, creating initial progress.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptQuestRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptQuestRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AcceptQuestRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestProgressDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Content",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/abandon": {
      "post": {
        "tags": [
          "Quests"
        ],
        "summary": "Abandons a quest in progress.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AbandonQuestRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/AbandonQuestRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/AbandonQuestRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/dependencies": {
      "get": {
        "tags": [
          "Quests"
        ],
        "summary": "Gets dependency information for a quest.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/QuestDependencyInfoDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestDependencyInfoDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestDependencyInfoDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Roll": {
      "post": {
        "tags": [
          "Roll"
        ],
        "summary": "Rolls dice according to the specified expression.",
        "description": "Sample request:\r\n\r\n    POST /api/roll\r\n    {\r\n        \"expression\": \"2d6+3\"\r\n    }\r\n    \r\nSupported notation:\r\n- Basic: NdS (e.g., 2d6 = roll 2 six-sided dice)\r\n- With modifier: NdSM (e.g., 1d20+5 = roll 1 twenty-sided die and add 5)\r\n- Complex: Multiple groups (e.g., 2d6+1d4+3 = roll 2d6, 1d4, then add 3)\r\n- Advantage: NdSa (e.g., 1d20a = roll twice, take higher)\r\n- Disadvantage: NdSd (e.g., 1d20d = roll twice, take lower)",
        "requestBody": {
          "description": "The roll request containing the dice expression (e.g., \"2d6+3\", \"1d20a\", \"2d6+1d4+5\")",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RollRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/RollRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/RollRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns the roll result with dice values and total",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RollResultStandardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid expression or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RollResultStandardResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RollResultStandardResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Roll/validate": {
      "post": {
        "tags": [
          "Roll"
        ],
        "summary": "Validates a dice expression without rolling.",
        "description": "Sample request:\r\n\r\n    POST /api/roll/validate\r\n    {\r\n        \"expression\": \"2d6+1d4+3\"\r\n    }\r\n    \r\nReturns parsed dice groups, modifiers, and expected min/max without performing the roll.",
        "requestBody": {
          "description": "The validation request containing the dice expression",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/ValidateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns validation result (valid or invalid with reason)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateResponseStandardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateResponseStandardResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidateResponseStandardResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Roll/stats/{expression}": {
      "get": {
        "tags": [
          "Roll"
        ],
        "summary": "Calculates statistical information for a dice expression.",
        "description": "Sample request:\r\n\r\n    GET /api/roll/stats/2d6\r\n    \r\nReturns theoretical statistics without performing a roll.",
        "parameters": [
          {
            "name": "expression",
            "in": "path",
            "description": "The dice expression to analyze (e.g., \"2d6\", \"1d20+5\")",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returns statistical analysis of the expression",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsResponseStandardResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid expression or parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsResponseStandardResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatsResponseStandardResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/stages/{stageNumber}/objectives/{objectiveId}/update": {
      "patch": {
        "tags": [
          "Stages"
        ],
        "summary": "Updates progress for a specific objective.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "stageNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "objectiveId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateObjectiveProgressRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateObjectiveProgressRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateObjectiveProgressRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ObjectiveProgressDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObjectiveProgressDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObjectiveProgressDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/adventures/{adventureId}/quests/{questId}/stages/{stageNumber}/complete": {
      "post": {
        "tags": [
          "Stages"
        ],
        "summary": "Attempts to complete the current stage and advance to the next.",
        "parameters": [
          {
            "name": "adventureId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "questId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "stageNumber",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteStageRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteStageRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteStageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/StageCompletionResultDto"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StageCompletionResultDto"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/StageCompletionResultDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AbandonQuestRequest": {
        "required": [
          "playerId"
        ],
        "type": "object",
        "properties": {
          "playerId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Request to abandon a quest."
      },
      "AcceptQuestRequest": {
        "required": [
          "playerId"
        ],
        "type": "object",
        "properties": {
          "playerId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Request to accept a quest."
      },
      "AddItemRequest": {
        "required": [
          "itemId"
        ],
        "type": "object",
        "properties": {
          "itemId": {
            "type": "string",
            "format": "uuid"
          },
          "quantity": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Request to add an item to adventure inventory."
      },
      "AddItemResult": {
        "type": "object",
        "properties": {
          "entryId": {
            "type": "string",
            "format": "uuid"
          },
          "itemId": {
            "type": "string",
            "format": "uuid"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          },
          "merged": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "AdventureDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "currentSceneId": {
            "type": "string",
            "nullable": true
          },
          "gameState": {
            "type": "object",
            "additionalProperties": { },
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "lastUpdatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "AttackActionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "attackerId": {
            "type": "string",
            "format": "uuid"
          },
          "attackerName": {
            "type": "string",
            "nullable": true
          },
          "targetId": {
            "type": "string",
            "format": "uuid"
          },
          "targetName": {
            "type": "string",
            "nullable": true
          },
          "attackRoll": {
            "type": "integer",
            "format": "int32"
          },
          "attackTotal": {
            "type": "integer",
            "format": "int32"
          },
          "targetAC": {
            "type": "integer",
            "format": "int32"
          },
          "isHit": {
            "type": "boolean"
          },
          "isCriticalHit": {
            "type": "boolean"
          },
          "weaponName": {
            "type": "string",
            "nullable": true
          },
          "damageExpression": {
            "type": "string",
            "nullable": true
          },
          "totalDamage": {
            "type": "integer",
            "format": "int32"
          },
          "targetHealthAfter": {
            "type": "integer",
            "format": "int32"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Represents the result of an attack action"
      },
      "AttributeValueDto": {
        "type": "object",
        "properties": {
          "base": {
            "type": "integer",
            "format": "int32"
          },
          "modifier": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CharacterAttributesDto": {
        "type": "object",
        "properties": {
          "str": {
            "$ref": "#/components/schemas/AttributeValueDto"
          },
          "dex": {
            "$ref": "#/components/schemas/AttributeValueDto"
          },
          "int": {
            "$ref": "#/components/schemas/AttributeValueDto"
          },
          "con": {
            "$ref": "#/components/schemas/AttributeValueDto"
          },
          "cha": {
            "$ref": "#/components/schemas/AttributeValueDto"
          }
        },
        "additionalProperties": false
      },
      "CharacterDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "adventureId": {
            "type": "string",
            "format": "uuid"
          },
          "attributes": {
            "$ref": "#/components/schemas/CharacterAttributesDto"
          },
          "version": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "lastModifiedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "CharacterListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CharacterDto"
            },
            "nullable": true
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CharacterSnapshotDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "characterId": {
            "type": "string",
            "format": "uuid"
          },
          "label": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "attributes": {
            "$ref": "#/components/schemas/CharacterAttributesDto"
          }
        },
        "additionalProperties": false
      },
      "CombatHistoryResponse": {
        "type": "object",
        "properties": {
          "combatId": {
            "type": "string",
            "format": "uuid"
          },
          "actions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AttackActionResponse"
            },
            "nullable": true
          },
          "totalActions": {
            "type": "integer",
            "format": "int32"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          }
        },
        "additionalProperties": false,
        "description": "Response containing combat history/actions for a combat encounter"
      },
      "CombatStateResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "adventureId": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "currentRound": {
            "type": "integer",
            "format": "int32"
          },
          "currentTurnIndex": {
            "type": "integer",
            "format": "int32"
          },
          "combatants": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CombatantDto"
            },
            "nullable": true
          },
          "turnOrder": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "nullable": true
          },
          "winner": {
            "type": "string",
            "nullable": true
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "endedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Response containing current combat state"
      },
      "CombatantDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "currentHealth": {
            "type": "integer",
            "format": "int32"
          },
          "maxHealth": {
            "type": "integer",
            "format": "int32"
          },
          "armorClass": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "initiativeScore": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Represents a combatant in combat"
      },
      "CompleteStageRequest": {
        "required": [
          "playerId"
        ],
        "type": "object",
        "properties": {
          "playerId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Request to complete a stage."
      },
      "CreateAdventureRequest": {
        "type": "object",
        "properties": {
          "initialSceneId": {
            "type": "string",
            "nullable": true
          },
          "initialGameState": {
            "type": "object",
            "additionalProperties": { },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateCharacterRequest": {
        "required": [
          "chaBase",
          "conBase",
          "dexBase",
          "intBase",
          "name",
          "strBase"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 255,
            "minLength": 1,
            "type": "string"
          },
          "strBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32"
          },
          "dexBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32"
          },
          "intBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32"
          },
          "conBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32"
          },
          "chaBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "CreateEnemyRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enemy name/title",
            "nullable": true
          },
          "description": {
            "type": "string",
            "description": "Enemy description/flavor text",
            "nullable": true
          },
          "strength": {
            "type": "integer",
            "description": "Strength attribute (3-18)",
            "format": "int32"
          },
          "dexterity": {
            "type": "integer",
            "description": "Dexterity attribute (3-18)",
            "format": "int32"
          },
          "intelligence": {
            "type": "integer",
            "description": "Intelligence attribute (3-18)",
            "format": "int32"
          },
          "constitution": {
            "type": "integer",
            "description": "Constitution attribute (3-18)",
            "format": "int32"
          },
          "charisma": {
            "type": "integer",
            "description": "Charisma attribute (3-18)",
            "format": "int32"
          },
          "maxHealth": {
            "type": "integer",
            "description": "Maximum health points",
            "format": "int32"
          },
          "armorClass": {
            "type": "integer",
            "description": "Armor class (defense value)",
            "format": "int32"
          },
          "equippedWeapon": {
            "type": "string",
            "description": "Equipped weapon information",
            "nullable": true
          },
          "fleeHealthThreshold": {
            "type": "number",
            "description": "Health threshold for fleeing (0.0-1.0, default 0.25)",
            "format": "double"
          }
        },
        "additionalProperties": false,
        "description": "Request to create a new enemy template"
      },
      "CreateSnapshotRequest": {
        "type": "object",
        "properties": {
          "label": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateStackableItemRequest": {
        "required": [
          "itemType",
          "name",
          "rarity"
        ],
        "type": "object",
        "properties": {
          "itemType": {
            "minLength": 1,
            "type": "string"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "rarity": {
            "minLength": 1,
            "type": "string"
          },
          "maxStackSize": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Request to create a new stackable item."
      },
      "CreateUniqueItemRequest": {
        "required": [
          "itemType",
          "name",
          "rarity"
        ],
        "type": "object",
        "properties": {
          "itemType": {
            "minLength": 1,
            "type": "string"
          },
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 500,
            "minLength": 0,
            "type": "string",
            "nullable": true
          },
          "rarity": {
            "minLength": 1,
            "type": "string"
          },
          "slotType": {
            "type": "string",
            "nullable": true
          },
          "modifiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StatModifierDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request to create a new unique item."
      },
      "DiceRollComponent": {
        "type": "object",
        "properties": {
          "numberOfDice": {
            "type": "integer",
            "format": "int32"
          },
          "sidesPerDie": {
            "type": "integer",
            "format": "int32"
          },
          "modifier": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "EnemyListResponse": {
        "type": "object",
        "properties": {
          "enemies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnemyResponse"
            },
            "nullable": true
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          }
        },
        "additionalProperties": false,
        "description": "Paginated list of enemies"
      },
      "EnemyResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "strength": {
            "type": "integer",
            "format": "int32"
          },
          "dexterity": {
            "type": "integer",
            "format": "int32"
          },
          "intelligence": {
            "type": "integer",
            "format": "int32"
          },
          "constitution": {
            "type": "integer",
            "format": "int32"
          },
          "charisma": {
            "type": "integer",
            "format": "int32"
          },
          "strModifier": {
            "type": "integer",
            "format": "int32"
          },
          "dexModifier": {
            "type": "integer",
            "format": "int32"
          },
          "intModifier": {
            "type": "integer",
            "format": "int32"
          },
          "conModifier": {
            "type": "integer",
            "format": "int32"
          },
          "chaModifier": {
            "type": "integer",
            "format": "int32"
          },
          "maxHealth": {
            "type": "integer",
            "format": "int32"
          },
          "currentHealth": {
            "type": "integer",
            "format": "int32"
          },
          "armorClass": {
            "type": "integer",
            "format": "int32"
          },
          "currentAIState": {
            "type": "string",
            "nullable": true
          },
          "equippedWeapon": {
            "type": "string",
            "nullable": true
          },
          "fleeHealthThreshold": {
            "type": "number",
            "format": "double"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "lastModifiedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Response containing enemy details"
      },
      "EquipItemRequest": {
        "required": [
          "adventureId",
          "itemId"
        ],
        "type": "object",
        "properties": {
          "itemId": {
            "type": "string",
            "format": "uuid"
          },
          "adventureId": {
            "type": "string",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Request to equip an item to a character slot."
      },
      "EquipItemResult": {
        "type": "object",
        "properties": {
          "slotType": {
            "type": "string",
            "nullable": true
          },
          "equippedItem": {
            "$ref": "#/components/schemas/UniqueItemResult"
          },
          "equippedAt": {
            "type": "string",
            "format": "date-time"
          },
          "previousItem": {
            "$ref": "#/components/schemas/UniqueItemResult"
          }
        },
        "additionalProperties": false
      },
      "EquipmentResult": {
        "type": "object",
        "properties": {
          "characterId": {
            "type": "string",
            "format": "uuid"
          },
          "slots": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EquipmentSlotResult"
            },
            "nullable": true
          },
          "totalModifiers": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "EquipmentSlotResult": {
        "type": "object",
        "properties": {
          "slotType": {
            "type": "string",
            "nullable": true
          },
          "equippedItem": {
            "$ref": "#/components/schemas/UniqueItemResult"
          },
          "equippedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "nullable": true
          },
          "message": {
            "type": "string",
            "nullable": true
          },
          "details": {
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "GenerateLootRequest": {
        "required": [
          "adventureId"
        ],
        "type": "object",
        "properties": {
          "adventureId": {
            "type": "string",
            "format": "uuid"
          },
          "count": {
            "maximum": 20,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Request to generate loot from a loot table."
      },
      "GenerateLootResult": {
        "type": "object",
        "properties": {
          "lootTableId": {
            "type": "string",
            "format": "uuid"
          },
          "adventureId": {
            "type": "string",
            "format": "uuid"
          },
          "generatedItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GeneratedItem"
            },
            "nullable": true
          },
          "addedToInventory": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "GeneratedItem": {
        "type": "object",
        "properties": {
          "item": {
            "$ref": "#/components/schemas/ItemResult"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          },
          "rollResult": {
            "type": "integer",
            "format": "int32"
          },
          "weight": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "InitiateCombatRequest": {
        "type": "object",
        "properties": {
          "adventureId": {
            "type": "string",
            "description": "Adventure ID for this combat encounter",
            "format": "uuid"
          },
          "characterIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "description": "List of player character IDs participating in combat",
            "nullable": true
          },
          "enemyIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "description": "List of enemy IDs participating in combat",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request to initiate a new combat encounter"
      },
      "InventoryEntryResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "item": {
            "$ref": "#/components/schemas/ItemResult"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          },
          "addedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "InventoryResult": {
        "type": "object",
        "properties": {
          "adventureId": {
            "type": "string",
            "format": "uuid"
          },
          "entries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InventoryEntryResult"
            },
            "nullable": true
          },
          "totalEntries": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ItemListResult": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ItemResult"
            },
            "nullable": true
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ItemResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "rarity": {
            "type": "string",
            "nullable": true
          },
          "itemType": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "LootTableDetailsResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "entries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LootTableEntryResult"
            },
            "nullable": true
          },
          "totalWeight": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "LootTableEntryResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "item": {
            "$ref": "#/components/schemas/ItemResult"
          },
          "weight": {
            "type": "integer",
            "format": "int32"
          },
          "quantity": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "LootTableListResult": {
        "type": "object",
        "properties": {
          "lootTables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LootTableSummary"
            },
            "nullable": true
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "LootTableSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "entryCount": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "ObjectiveProgressDto": {
        "type": "object",
        "properties": {
          "objectiveId": {
            "type": "string",
            "format": "uuid"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "conditionType": {
            "type": "string",
            "nullable": true
          },
          "currentProgress": {
            "type": "integer",
            "format": "int32"
          },
          "targetAmount": {
            "type": "integer",
            "format": "int32"
          },
          "isCompleted": {
            "type": "boolean"
          },
          "progressPercentage": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "PagedAdventureResponse": {
        "type": "object",
        "properties": {
          "adventures": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AdventureDto"
            },
            "nullable": true
          },
          "total": {
            "type": "integer",
            "format": "int32"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          },
          "hasMore": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "Response wrapper for paginated adventure lists."
      },
      "ParsedComponents": {
        "type": "object",
        "properties": {
          "diceRolls": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DiceRollComponent"
            },
            "nullable": true
          },
          "globalModifier": {
            "type": "integer",
            "format": "int32"
          },
          "hasAdvantage": {
            "type": "boolean"
          },
          "hasDisadvantage": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "PrerequisiteDto": {
        "type": "object",
        "properties": {
          "prerequisiteQuestId": {
            "type": "string",
            "format": "uuid"
          },
          "questName": {
            "type": "string",
            "nullable": true
          },
          "dependencyType": {
            "type": "string",
            "nullable": true
          },
          "playerStatus": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "QuestDependencyInfoDto": {
        "type": "object",
        "properties": {
          "questId": {
            "type": "string",
            "format": "uuid"
          },
          "prerequisites": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PrerequisiteDto"
            },
            "nullable": true
          },
          "allPrerequisitesMet": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "QuestProgressDto": {
        "type": "object",
        "properties": {
          "questProgressId": {
            "type": "string",
            "format": "uuid"
          },
          "questId": {
            "type": "string",
            "format": "uuid"
          },
          "playerId": {
            "type": "string",
            "format": "uuid"
          },
          "questName": {
            "type": "string",
            "nullable": true
          },
          "questDescription": {
            "type": "string",
            "nullable": true
          },
          "currentStageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "totalStages": {
            "type": "integer",
            "format": "int32"
          },
          "progressPercentage": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "currentStage": {
            "$ref": "#/components/schemas/StageProgressDto"
          },
          "acceptedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "failedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "abandonedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ResolveTurnRequest": {
        "type": "object",
        "properties": {
          "attackingCombatantId": {
            "type": "string",
            "description": "Combatant ID performing the attack",
            "format": "uuid"
          },
          "targetCombatantId": {
            "type": "string",
            "description": "Target combatant ID",
            "format": "uuid"
          }
        },
        "additionalProperties": false,
        "description": "Request to resolve a player attack action"
      },
      "RewardDto": {
        "type": "object",
        "properties": {
          "rewardId": {
            "type": "string",
            "format": "uuid"
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "amount": {
            "type": "integer",
            "format": "int32"
          },
          "itemId": {
            "type": "string",
            "nullable": true
          },
          "itemName": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "RollMetadata": {
        "type": "object",
        "properties": {
          "executionTimeMs": {
            "type": "number",
            "format": "double"
          },
          "rngAlgorithm": {
            "type": "string",
            "nullable": true
          },
          "isCached": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "RollRequest": {
        "required": [
          "expression"
        ],
        "type": "object",
        "properties": {
          "expression": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "RollResult": {
        "type": "object",
        "properties": {
          "expression": {
            "type": "string",
            "nullable": true
          },
          "individualRolls": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "rollsByGroup": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            },
            "nullable": true
          },
          "subtotalsByGroup": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          },
          "totalModifier": {
            "type": "integer",
            "format": "int32"
          },
          "finalTotal": {
            "type": "integer",
            "format": "int32"
          },
          "isAdvantage": {
            "type": "boolean"
          },
          "isDisadvantage": {
            "type": "boolean"
          },
          "advantageRollResults": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RollResult"
            },
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "metadata": {
            "$ref": "#/components/schemas/RollMetadata"
          }
        },
        "additionalProperties": false
      },
      "RollResultStandardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/RollResult"
          },
          "error": {
            "$ref": "#/components/schemas/ErrorResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "SnapshotListResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CharacterSnapshotDto"
            },
            "nullable": true
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "StackableItemResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "rarity": {
            "type": "string",
            "nullable": true
          },
          "itemType": {
            "type": "string",
            "nullable": true
          },
          "maxStackSize": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "StageCompletionResultDto": {
        "type": "object",
        "properties": {
          "questProgressId": {
            "type": "string",
            "format": "uuid"
          },
          "currentStageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "questStatus": {
            "type": "string",
            "nullable": true
          },
          "stageRewards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RewardDto"
            },
            "nullable": true
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "StageProgressDto": {
        "type": "object",
        "properties": {
          "stageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "isCompleted": {
            "type": "boolean"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "objectives": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ObjectiveProgressDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "StatModifierDto": {
        "type": "object",
        "properties": {
          "statName": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO for stat modifier value object."
      },
      "StatModifierResult": {
        "type": "object",
        "properties": {
          "statName": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "StatsResponse": {
        "type": "object",
        "properties": {
          "expression": {
            "type": "string",
            "nullable": true
          },
          "minimum": {
            "type": "integer",
            "format": "int32"
          },
          "maximum": {
            "type": "integer",
            "format": "int32"
          },
          "mean": {
            "type": "number",
            "format": "double"
          },
          "standardDeviation": {
            "type": "number",
            "format": "double"
          },
          "mode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "median": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "StatsResponseStandardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/StatsResponse"
          },
          "error": {
            "$ref": "#/components/schemas/ErrorResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "UnequipItemResult": {
        "type": "object",
        "properties": {
          "slotType": {
            "type": "string",
            "nullable": true
          },
          "unequippedItem": {
            "$ref": "#/components/schemas/UniqueItemResult"
          },
          "returnedToInventory": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "UniqueItemResult": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "rarity": {
            "type": "string",
            "nullable": true
          },
          "itemType": {
            "type": "string",
            "nullable": true
          },
          "slotType": {
            "type": "string",
            "nullable": true
          },
          "modifiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StatModifierResult"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateAdventureRequest": {
        "type": "object",
        "properties": {
          "currentSceneId": {
            "type": "string",
            "nullable": true
          },
          "gameState": {
            "type": "object",
            "additionalProperties": { },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "UpdateCharacterRequest": {
        "required": [
          "version"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 255,
            "minLength": 1,
            "type": "string",
            "nullable": true
          },
          "strBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "dexBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "intBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "conBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "chaBase": {
            "maximum": 18,
            "minimum": 3,
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "version": {
            "maximum": 4294967295,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "UpdateObjectiveProgressRequest": {
        "required": [
          "playerId",
          "progressAmount"
        ],
        "type": "object",
        "properties": {
          "playerId": {
            "type": "string",
            "format": "uuid"
          },
          "progressAmount": {
            "maximum": 2147483647,
            "minimum": 1,
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Request to update objective progress."
      },
      "ValidateRequest": {
        "required": [
          "expression"
        ],
        "type": "object",
        "properties": {
          "expression": {
            "maxLength": 255,
            "minLength": 3,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "ValidateResponse": {
        "type": "object",
        "properties": {
          "isValid": {
            "type": "boolean"
          },
          "originalExpression": {
            "type": "string",
            "nullable": true
          },
          "parsedComponents": {
            "$ref": "#/components/schemas/ParsedComponents"
          },
          "expectedMinimum": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "expectedMaximum": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "ValidateResponseStandardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/ValidateResponse"
          },
          "error": {
            "$ref": "#/components/schemas/ErrorResponse"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      }
    }
  }
}